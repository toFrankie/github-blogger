---
description:
globs:
alwaysApply: true
---
# 行为规则


## 基础原则

  - 修改代码时必须保持功能等价，除非明确要求改变功能。
  - 所有修改应遵循最小改动原则，除非用户要求“整体优化”或“全局重构”。
  - 对现有函数或模块进行增强时，应保留原有逻辑并注释说明变更点。
  - 应自动识别项目上下文（框架、语言、模块结构、已用依赖）并保持一致性。
  - 在用户请求「修复」「重构」「优化」时，应先评估当前代码结构与依赖，避免破坏原有功能或风格。
  - 不得基于假设补全代码，应根据当前文件及相关依赖真实推导。
  - 进行拆分、重构或移动文件操作时，必须更新引用并提示用户确认。